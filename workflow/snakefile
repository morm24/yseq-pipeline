rule all:
    input:
        TVIEW =         "results/tview_{YSEQID}_{REF}.sh",
        YBAM =          "results/{YSEQID}_bwa-mem_{REF}_chrY.bam",
        MTBAM =         "results/{YSEQID}_bwa-mem_{REF}_rCRS_chrM.bam",
        SORTED_BAM =    "results/{YSEQID}_bwa_mem_{REF}_sorted.bam",
        MT_CONSENSUS =  "results/{YSEQID}_{REF}_mtDNA.fasta",
        STATS =         "results/{YSEQID}_{REF}_mapping_stats.txt",
        POSITIVE_TXT =  "results/{YSEQID}_{REF}_positives.txt",
        NEGATIVE_TXT =  "results/{YSEQID}_{REF}_negatives.txt"
    #    expand("{YSEQID}_results_summary.txt", YSEQID=IDS)
    output:
        FIN = "results/{YSEQID}_{REF}_finished.txt"
    shell:
        "echo 'All done!' > {output.FIN}"
    #default_target: True


#YSEQID = sample_list.values.tolist()

wildcard_constraints:
    REF = "hg38|hg19|hs1"


##### target rules #####

include: "rules/map_fastq.smk"
include: "rules/get_mapping_statistics.smk"
include: "rules/sort_and_index_bam.smk"
include: "rules/create_easy_tview.smk"
include: "rules/seperate_mt_bam.smk"
include: "rules/extract_mtDNA_consensus.smk"
include: "rules/seperate_chrY_bam.smk"
include: "rules/get_newest_hg38_snps.smk"
include: "rules/download_snps.smk"





