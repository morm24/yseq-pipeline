REF     = "hg38"#config["REF"]
YSEQID  = "63819"#config["YSEQID"]

rule all:
    input:
        BAMFILE = f"{YSEQID}_bwa-mem_{REF}.bam"

rule bwa_index:
    input: 
        "resources/{REF}/{REF}.fa"
    output:
        "resources/{REF}/{REF}.fa.amb",
        "resources/{REF}/{REF}.fa.ann",
        "resources/{REF}/{REF}.fa.bwt",
        "resources/{REF}/{REF}.fa.pac",
        "resources/{REF}/{REF}.fa.sa"
    shell:
        "bwa index {input}"


rule bwa_mem:
    input: 
        READS_1 = f"{YSEQID}/fastq/{YSEQID}_R1.fastq.gz",
        READS_2 = f"{YSEQID}/fastq/{YSEQID}_R2.fastq.gz",
        REFSEQ     = "./resources/refseq/{REF}/{REF}.fa"
    output: 
        BAMFILE = f"{YSEQID}_bwa-mem_{REF}.bam"
    shell:"bwa mem {input} > {output}"





